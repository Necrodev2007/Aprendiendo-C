<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Calendario de Productividad</title>
    <style>
        :root {
            --color-primary: #2c3e50;
            --color-secondary: #c0392b;
            --color-accent: #e74c3c;
            --color-light: #ecf0f1;
            --color-dark: #1a1a1a;
            --color-text: #333333;
            --color-success: #27ae60;
            --color-completed: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--color-primary);
            color: var(--color-light);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-dark) 100%);
            border-bottom: 3px solid var(--color-secondary);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(231, 76, 60, 0.1)"/></svg>');
            background-size: cover;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: var(--color-light);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--color-accent);
            margin-bottom: 20px;
        }
        
        .motivational-quote {
            font-style: italic;
            max-width: 600px;
            margin: 0 auto;
            padding: 15px;
            border-left: 3px solid var(--color-accent);
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 0 5px 5px 0;
        }
        
        .current-time {
            background-color: var(--color-secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            display: inline-block;
            margin-top: 20px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .day-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .day-info {
            text-align: center;
        }
        
        .day-number {
            font-size: 3rem;
            font-weight: bold;
            color: var(--color-accent);
            line-height: 1;
        }
        
        .day-text {
            font-size: 1.2rem;
            color: var(--color-light);
        }
        
        .progress-circle {
            width: 100px;
            height: 100px;
            position: relative;
        }
        
        .circle-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 8;
        }
        
        .circle-progress {
            fill: none;
            stroke: var(--color-completed);
            stroke-width: 8;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dasharray 0.5s ease;
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--color-light);
        }
        
        .calendar-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        .calendar-sidebar {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 15px;
        }
        
        .calendar-header {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--color-accent);
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            background-color: rgba(255, 255, 255, 0.05);
            position: relative;
        }
        
        .calendar-day:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .calendar-day.current {
            background-color: var(--color-accent);
            color: white;
            font-weight: bold;
        }
        
        .calendar-day.completed {
            background-color: var(--color-completed);
            color: white;
        }
        
        .calendar-day.other-month {
            color: rgba(255, 255, 255, 0.3);
        }
        
        .day-checkmark {
            position: absolute;
            top: 2px;
            right: 2px;
            font-size: 0.8rem;
        }
        
        .month-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .month-nav button {
            background: none;
            border: none;
            color: var(--color-accent);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        
        .month-nav button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .current-month {
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
        }
        
        .stats-container {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stats-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--color-accent);
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .schedule-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .time-block {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            border-left: 4px solid var(--color-secondary);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .time-block:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            background-color: rgba(255, 255, 255, 0.08);
        }
        
        .time-block.current {
            border-left: 4px solid var(--color-success);
            background-color: rgba(39, 174, 96, 0.1);
        }
        
        .time-block.completed {
            border-left: 4px solid var(--color-completed);
            background-color: rgba(46, 204, 113, 0.1);
        }
        
        .time {
            font-weight: bold;
            min-width: 100px;
            color: var(--color-accent);
            font-size: 1.1rem;
        }
        
        .activity {
            flex-grow: 1;
            padding-left: 20px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .activity-title {
            font-size: 1.3rem;
            margin-bottom: 5px;
            color: var(--color-light);
        }
        
        .activity-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
        }
        
        .category-tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 8px;
        }
        
        .programming {
            background-color: rgba(52, 152, 219, 0.2);
            color: #3498db;
        }
        
        .english {
            background-color: rgba(155, 89, 182, 0.2);
            color: #9b59b6;
        }
        
        .reading {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f1c40f;
        }
        
        .break {
            background-color: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }
        
        .physical {
            background-color: rgba(230, 126, 34, 0.2);
            color: #e67e22;
        }
        
        .meal {
            background-color: rgba(149, 165, 166, 0.2);
            color: #95a5a6;
        }
        
        .checkbox-container {
            margin-left: 15px;
        }
        
        .checkbox-container input {
            width: 22px;
            height: 22px;
            cursor: pointer;
        }
        
        .progress-container {
            margin-top: 40px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .progress-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--color-light);
            text-align: center;
        }
        
        .progress-bars {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .progress-item {
            margin-bottom: 15px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .progress-bar {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .programming-fill {
            background-color: #3498db;
            width: 85%;
        }
        
        .english-fill {
            background-color: #9b59b6;
            width: 70%;
        }
        
        .reading-fill {
            background-color: #f1c40f;
            width: 60%;
        }
        
        .day-completed-message {
            text-align: center;
            padding: 15px;
            background-color: var(--color-completed);
            color: white;
            border-radius: 8px;
            margin-top: 20px;
            font-weight: bold;
            display: none;
        }
        
        .next-day-btn {
            background-color: var(--color-accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
            display: none;
        }
        
        .next-day-btn:hover {
            background-color: #c0392b;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        
        @media (max-width: 968px) {
            .calendar-container {
                grid-template-columns: 1fr;
            }
            
            .calendar-sidebar {
                order: 2;
            }
        }
        
        @media (max-width: 768px) {
            .time-block {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .time {
                margin-bottom: 10px;
            }
            
            .activity {
                padding-left: 0;
                border-left: none;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                width: 100%;
            }
            
            .checkbox-container {
                margin-left: 0;
                margin-top: 15px;
                align-self: flex-end;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .day-progress {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Mi Calendario de Productividad</h1>
            <p class="subtitle">Programación en C • Inglés • Filosofía</p>
            <div class="motivational-quote">
                "La disciplina es el puente entre tus metas y tus logros. Hoy es un buen día para ser productivo."
            </div>
            <div class="current-time" id="currentTime">Cargando hora actual...</div>
        </div>
    </header>
    
    <div class="container">
        <div class="day-progress">
            <div class="day-info">
                <div class="day-number" id="currentDayNumber">1</div>
                <div class="day-text">Día de Productividad</div>
            </div>
            <div class="progress-circle">
                <svg width="100" height="100" viewBox="0 0 100 100">
                    <circle class="circle-bg" cx="50" cy="50" r="40"></circle>
                    <circle class="circle-progress" cx="50" cy="50" r="40" id="progressCircle"></circle>
                </svg>
                <div class="progress-text" id="progressText">0%</div>
            </div>
            <div class="day-stats">
                <div class="stat-item">
                    <span>Tareas completadas:</span>
                    <span id="completedTasks">0/17</span>
                </div>
                <div class="stat-item">
                    <span>Días consecutivos:</span>
                    <span id="consecutiveDays">0</span>
                </div>
                <button class="next-day-btn" id="nextDayBtn">Comenzar Siguiente Día</button>
            </div>
        </div>
        
        <div class="calendar-container">
            <div class="calendar-sidebar">
                <div class="month-nav">
                    <button id="prevMonth">&lt;</button>
                    <div class="current-month" id="currentMonth">Mes Actual</div>
                    <button id="nextMonth">&gt;</button>
                </div>
                <div class="calendar">
                    <div class="calendar-header">
                        <div>Lun</div>
                        <div>Mar</div>
                        <div>Mié</div>
                        <div>Jue</div>
                        <div>Vie</div>
                        <div>Sáb</div>
                        <div>Dom</div>
                    </div>
                    <div id="calendarDays"></div>
                </div>
                
                <div class="stats-container">
                    <h3 class="stats-title">Estadísticas del Mes</h3>
                    <div class="stat-item">
                        <span>Días completados:</span>
                        <span id="completedDays">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Porcentaje:</span>
                        <span id="completionPercentage">0%</span>
                    </div>
                    <div class="stat-item">
                        <span>Racha actual:</span>
                        <span id="currentStreak">0 días</span>
                    </div>
                </div>
            </div>
            
            <div>
                <div class="schedule-container" id="scheduleContainer">
                    <!-- Los bloques de horario se generarán con JavaScript -->
                </div>
                
                <div class="day-completed-message" id="dayCompletedMessage">
                    ¡Felicidades! Has completado todas las tareas de hoy. ¡Sigue así!
                </div>
            </div>
        </div>
        
        <div class="progress-container">
            <h2 class="progress-title">Distribución de Tiempo Diario</h2>
            <div class="progress-bars">
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Programación en C</span>
                        <span>3.5 horas</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill programming-fill"></div>
                    </div>
                </div>
                
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Inglés</span>
                        <span>2.5 horas</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill english-fill"></div>
                    </div>
                </div>
                
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Lectura Filosófica</span>
                        <span>1.5 horas</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill reading-fill"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>Diseñado para maximizar tu productividad y crecimiento personal • Actualizado en tiempo real</p>
        </div>
    </footer>

    <script>
        // Datos del horario
        const schedule = [
            { time: "7:00 AM", title: "Despertar + Hidratación", description: "Estiramientos suaves y activación corporal", category: "break" },
            { time: "7:15 AM", title: "Higiene Personal", description: "Ducha, cuidado dental y vestir", category: "break" },
            { time: "7:45 AM", title: "Programación en C", description: "Bloque mañanero - Teoría y ejercicios complejos", category: "programming" },
            { time: "10:00 AM", title: "Lectura Filosófica", description: "Sesión matutina - Kafka, Camus, Nietzsche", category: "reading" },
            { time: "11:00 AM", title: "Desayuno Nutritivo", description: "Planificación del día", category: "meal" },
            { time: "11:30 AM", title: "Inglés Intensivo", description: "Gramática, vocabulario y ejercicios escritos", category: "english" },
            { time: "1:00 PM", title: "Descanso 1 - Mediodía", description: "Almuerzo ligero y caminata breve", category: "break" },
            { time: "2:30 PM", title: "Programación en C", description: "Bloque práctico - Resolución de problemas", category: "programming" },
            { time: "4:30 PM", title: "Inglés Inmersivo", description: "Listening con podcasts y práctica de speaking", category: "english" },
            { time: "6:00 PM", title: "Actividad Física", description: "Ejercicio o caminata de 30-45 minutos", category: "physical" },
            { time: "7:30 PM", title: "Cena Ligera", description: "Tiempo de transición y relax", category: "meal" },
            { time: "8:15 PM", title: "Descanso 2 - Nocturno", description: "Tiempo libre - Películas en inglés", category: "break" },
            { time: "9:45 PM", title: "Lectura Nocturna", description: "Filosofía o literatura complementaria", category: "reading" },
            { time: "10:30 PM", title: "Repaso Rápido", description: "15 min programación + 15 min inglés", category: "programming" },
            { time: "11:00 PM", title: "Higiene Nocturna", description: "Rutina completa de cuidado personal", category: "break" },
            { time: "11:20 PM", title: "Relajación", description: "Meditación, música suave o lectura ligera", category: "break" },
            { time: "11:30 PM", title: "Dormir", description: "Descanso para máxima productividad al día siguiente", category: "break" }
        ];

        // Variables globales
        let currentDate = new Date();
        let currentDay = parseInt(localStorage.getItem('currentDay')) || 1;
        let completedDays = JSON.parse(localStorage.getItem('completedDays')) || {};
        let currentDayTasks = JSON.parse(localStorage.getItem('currentDayTasks')) || Array(schedule.length).fill(false);
        let consecutiveDays = parseInt(localStorage.getItem('consecutiveDays')) || 0;
        
        // Función para actualizar la hora actual
        function updateCurrentTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            const timeString = now.toLocaleDateString('es-ES', options);
            document.getElementById('currentTime').textContent = timeString;
            
            // Actualizar qué bloque está activo
            updateCurrentBlock(now);
            
            // Actualizar progreso del día
            updateDayProgress();
        }

        // Función para determinar qué bloque está activo
        function updateCurrentBlock(now) {
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTimeInMinutes = currentHour * 60 + currentMinute;
            
            const blocks = document.querySelectorAll('.time-block');
            blocks.forEach(block => {
                block.classList.remove('current');
            });
            
            for (let i = 0; i < schedule.length; i++) {
                const blockTime = schedule[i].time;
                const [time, period] = blockTime.split(' ');
                const [hours, minutes] = time.split(':').map(Number);
                
                let blockHour = hours;
                if (period === 'PM' && hours !== 12) blockHour += 12;
                if (period === 'AM' && hours === 12) blockHour = 0;
                
                const blockTimeInMinutes = blockHour * 60 + minutes;
                
                // Si es el último bloque, considerar que dura hasta el final del día
                let nextBlockTimeInMinutes;
                if (i === schedule.length - 1) {
                    nextBlockTimeInMinutes = 24 * 60; // Fin del día
                } else {
                    const nextBlockTime = schedule[i+1].time;
                    const [nextTime, nextPeriod] = nextBlockTime.split(' ');
                    const [nextHours, nextMinutes] = nextTime.split(':').map(Number);
                    
                    let nextBlockHour = nextHours;
                    if (nextPeriod === 'PM' && nextHours !== 12) nextBlockHour += 12;
                    if (nextPeriod === 'AM' && nextHours === 12) nextBlockHour = 0;
                    
                    nextBlockTimeInMinutes = nextBlockHour * 60 + nextMinutes;
                }
                
                if (currentTimeInMinutes >= blockTimeInMinutes && currentTimeInMinutes < nextBlockTimeInMinutes) {
                    blocks[i].classList.add('current');
                    break;
                }
            }
        }

        // Función para renderizar el horario
        function renderSchedule() {
            const container = document.getElementById('scheduleContainer');
            container.innerHTML = '';
            
            schedule.forEach((item, index) => {
                const block = document.createElement('div');
                block.className = 'time-block';
                if (currentDayTasks[index]) {
                    block.classList.add('completed');
                }
                
                block.innerHTML = `
                    <div class="time">${item.time}</div>
                    <div class="activity">
                        <div class="activity-title">${item.title}</div>
                        <div class="activity-desc">${item.description}</div>
                        <span class="category-tag ${item.category}">${getCategoryName(item.category)}</span>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="task-${index}" ${currentDayTasks[index] ? 'checked' : ''}>
                    </div>
                `;
                
                // Añadir evento al checkbox
                const checkbox = block.querySelector(`#task-${index}`);
                checkbox.addEventListener('change', function() {
                    updateTaskCompletion(index, this.checked);
                    if (this.checked) {
                        block.classList.add('completed');
                    } else {
                        block.classList.remove('completed');
                    }
                    updateDayProgress();
                });
                
                container.appendChild(block);
            });
        }

        // Función para obtener el nombre de la categoría
        function getCategoryName(category) {
            const categories = {
                'programming': 'Programación',
                'english': 'Inglés',
                'reading': 'Lectura',
                'break': 'Descanso',
                'physical': 'Actividad Física',
                'meal': 'Comida'
            };
            
            return categories[category] || 'General';
        }

        // Función para actualizar el estado de una tarea
        function updateTaskCompletion(index, completed) {
            currentDayTasks[index] = completed;
            localStorage.setItem('currentDayTasks', JSON.stringify(currentDayTasks));
            
            checkDayCompletion();
        }

        // Función para actualizar el progreso del día
        function updateDayProgress() {
            const completedCount = currentDayTasks.filter(task => task).length;
            const totalTasks = schedule.length;
            const percentage = Math.round((completedCount / totalTasks) * 100);
            
            // Actualizar texto
            document.getElementById('completedTasks').textContent = `${completedCount}/${totalTasks}`;
            document.getElementById('progressText').textContent = `${percentage}%`;
            document.getElementById('currentDayNumber').textContent = currentDay;
            document.getElementById('consecutiveDays').textContent = consecutiveDays;
            
            // Actualizar círculo de progreso
            const circle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 40;
            const offset = circumference - (percentage / 100) * circumference;
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            circle.style.strokeDashoffset = offset;
        }

        // Función para verificar si el día está completo
        function checkDayCompletion() {
            const allCompleted = currentDayTasks.every(task => task);
            const message = document.getElementById('dayCompletedMessage');
            const nextDayBtn = document.getElementById('nextDayBtn');
            
            if (allCompleted) {
                message.style.display = 'block';
                nextDayBtn.style.display = 'block';
                
                // Marcar el día actual como completado
                const today = new Date().toDateString();
                completedDays[today] = true;
                localStorage.setItem('completedDays', JSON.stringify(completedDays));
            } else {
                message.style.display = 'none';
                nextDayBtn.style.display = 'none';
            }
        }

        // Función para pasar al siguiente día
        function nextDay() {
            // Incrementar día actual
            currentDay++;
            localStorage.setItem('currentDay', currentDay);
            
            // Incrementar días consecutivos
            consecutiveDays++;
            localStorage.setItem('consecutiveDays', consecutiveDays);
            
            // Reiniciar tareas del día
            currentDayTasks = Array(schedule.length).fill(false);
            localStorage.setItem('currentDayTasks', JSON.stringify(currentDayTasks));
            
            // Actualizar interfaz
            renderSchedule();
            updateDayProgress();
            checkDayCompletion();
            renderCalendar();
            
            // Ocultar mensaje y botón
            document.getElementById('dayCompletedMessage').style.display = 'none';
            document.getElementById('nextDayBtn').style.display = 'none';
        }

        // Función para generar el calendario
        function renderCalendar() {
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Actualizar el título del mes
            const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
                "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
            
            // Primer día del mes
            const firstDay = new Date(year, month, 1);
            // Último día del mes
            const lastDay = new Date(year, month + 1, 0);
            
            // Días del mes anterior para completar la primera semana
            const prevMonthLastDay = new Date(year, month, 0).getDate();
            const firstDayOfWeek = firstDay.getDay() === 0 ? 7 : firstDay.getDay(); // Ajustar para que la semana empiece en lunes
            
            // Generar días del mes anterior
            for (let i = firstDayOfWeek - 1; i > 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = prevMonthLastDay - i + 1;
                calendarDays.appendChild(dayElement);
            }
            
            // Generar días del mes actual
            const today = new Date();
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                // Comprobar si es el día actual
                if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                    dayElement.classList.add('current');
                }
                
                // Comprobar si el día está completado
                const dateString = new Date(year, month, day).toDateString();
                if (completedDays[dateString]) {
                    dayElement.classList.add('completed');
                    dayElement.innerHTML = `${day}<span class="day-checkmark">✓</span>`;
                }
                
                calendarDays.appendChild(dayElement);
            }
            
            // Calcular días del próximo mes para completar la cuadrícula
            const totalCells = 42; // 6 semanas * 7 días
            const remainingCells = totalCells - (firstDayOfWeek - 1 + lastDay.getDate());
            
            // Generar días del próximo mes
            for (let day = 1; day <= remainingCells; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = day;
                calendarDays.appendChild(dayElement);
            }
            
            updateStats();
        }

        // Función para actualizar las estadísticas
        function updateStats() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const lastDay = new Date(year, month + 1, 0).getDate();
            
            let completedCount = 0;
            for (let day = 1; day <= lastDay; day++) {
                const dateString = new Date(year, month, day).toDateString();
                if (completedDays[dateString]) {
                    completedCount++;
                }
            }
            
            document.getElementById('completedDays').textContent = completedCount;
            document.getElementById('completionPercentage').textContent = 
                Math.round((completedCount / lastDay) * 100) + '%';
            document.getElementById('currentStreak').textContent = consecutiveDays + ' días';
        }

        // Inicializar la página
        document.addEventListener('DOMContentLoaded', function() {
            renderSchedule();
            renderCalendar();
            updateCurrentTime();
            updateDayProgress();
            
            // Actualizar cada minuto
            setInterval(updateCurrentTime, 60000);
            
            // Navegación del calendario
            document.getElementById('prevMonth').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });
            
            document.getElementById('nextMonth').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });
            
            // Botón para siguiente día
            document.getElementById('nextDayBtn').addEventListener('click', nextDay);
        });
    </script>
</body>
</html>